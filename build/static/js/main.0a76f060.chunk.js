(this["webpackJsonp2.6puhelinluettelo"]=this["webpackJsonp2.6puhelinluettelo"]||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var u=t(0),a=t.n(u),o=t(13),i=t.n(o),c=(t(19),t(2)),r=t(3),l=t.n(r),m="/api/persons",s=function(){return l.a.get(m).then((function(e){return e.data}))},f=function(e){return l.a.post(m,e).then((function(e){return e.data}))},d=function(e){return l.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},h=function(e,n){return l.a.put("".concat(m,"/").concat(e),n).then((function(e){return e.data}))},b=function(){var e=Object(u.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],i=Object(u.useState)(""),r=Object(c.a)(i,2),l=r[0],m=r[1],b=Object(u.useState)(""),g=Object(c.a)(b,2),v=g[0],E=g[1],p=Object(u.useState)(""),j=Object(c.a)(p,2),w=j[0],O=j[1],k=Object(u.useState)(null),y=Object(c.a)(k,2),N=y[0],S=y[1],C=Object(u.useState)(null),T=Object(c.a)(C,2),D=T[0],L=T[1];Object(u.useEffect)((function(){s().then((function(e){return o(e)}))}),[]);var P=function(e){if(e.preventDefault(),t.findIndex((function(e){return e.name===l}))>-1){if(window.confirm("Nimi ".concat(l," on jo lis\xe4tty, vaihdetaanko numero uuteen?"))){var n=t.find((function(e){return e.name===l})).id;console.log("idee",n),h(n,{name:l,number:v}).then((function(e){console.log("muuttaminen onnistui!"),s().then((function(e){return o(e)})),L("Numeron muuttaminen onnistui!!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){S("Numeron muuttaminen ei onnistunut, yhteystietoa ei l\xf6ydy!!"),setTimeout((function(){S(null)}),5e3),o(t.filter((function(e){return e.id!==n})))}))}}else console.log("button clicked",l),f({name:l,number:v}).then((function(e){o(t.concat(e)),L("Numeron lis\xe4\xe4minen onnistui!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){S(e.response.data.error),setTimeout((function(){S(null)}),5e3)}))},x=function(e){m(e.target.value)},B=function(e){E(e.target.value)},I=function(e){console.log(e.target.value),O(e.target.value)};return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement("div",null,"rajaus: ",a.a.createElement("input",{onChange:I})),a.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),a.a.createElement("form",{onSubmit:P},a.a.createElement("div",null,"name: ",a.a.createElement("input",{onChange:x}),a.a.createElement("br",null),"phone: ",a.a.createElement("input",{onChange:B})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))),a.a.createElement((function(e){var n=e.message;return null===n?null:a.a.createElement("div",{className:"error"},n)}),{message:N}),a.a.createElement((function(e){var n=e.message;return null===n?null:a.a.createElement("div",{className:"onnistui"},n)}),{message:D}),a.a.createElement("h3",null,"Numbers"),function(){console.log("jaa",t);var e=t;if(e.length<10)return w.length>0?(e=t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}))).map((function(e){return a.a.createElement("div",{key:e.name},e.name," ",e.number)})):t.map((function(e){return a.a.createElement("div",{key:e.name},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return function(e){window.confirm("Delete ".concat(e.name," ? "))&&d(e.id).then((function(e){console.log("success!"),s().then((function(e){return o(e)})),L("Poistaminen onnistui!!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){S("Poistaminen ei onnistunut!"),setTimeout((function(){S(null)}),5e3)})),console.log("iidee on:",e.id)}(e)}},"Delete"))}))}())};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.0a76f060.chunk.js.map