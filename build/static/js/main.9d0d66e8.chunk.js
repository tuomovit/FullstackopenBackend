(this["webpackJsonp2.6puhelinluettelo"]=this["webpackJsonp2.6puhelinluettelo"]||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),u=t(13),i=t.n(u),c=(t(19),t(2)),r=t(3),l=t.n(r),s="/api/persons",m=function(){return l.a.get(s).then((function(e){return e.data}))},f=function(e){return l.a.post(s,e).then((function(e){return e.data}))},d=function(e){return l.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},h=function(e,n){return l.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},b=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],i=Object(a.useState)(""),r=Object(c.a)(i,2),l=r[0],s=r[1],b=Object(a.useState)(""),g=Object(c.a)(b,2),v=g[0],E=g[1],p=Object(a.useState)(""),j=Object(c.a)(p,2),w=j[0],O=j[1],k=Object(a.useState)(null),y=Object(c.a)(k,2),N=y[0],S=y[1],C=Object(a.useState)(null),T=Object(c.a)(C,2),D=T[0],L=T[1];Object(a.useEffect)((function(){m().then((function(e){return u(e)}))}),[]);var P=function(e){if(e.preventDefault(),t.findIndex((function(e){return e.name===l}))>-1){if(window.confirm("Nimi ".concat(l," on jo lis\xe4tty, vaihdetaanko numero uuteen?"))){var n=t.find((function(e){return e.name===l})).id;console.log("idee",n),h(n,{name:l,number:v}).then((function(e){console.log("muuttaminen onnistui!"),m().then((function(e){return u(e)})),L("Numeron muuttaminen onnistui!!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){S("Numeron muuttaminen ei onnistunut, yhteystietoa ei l\xf6ydy!!"),setTimeout((function(){S(null)}),5e3),u(t.filter((function(e){return e.id!==n})))}))}}else console.log("button clicked",l),f({name:l,number:v}).then((function(e){u(t.concat(e)),L("Numeron lis\xe4\xe4minen onnistui!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){console.log(e.response.data)}))},x=function(e){s(e.target.value)},B=function(e){E(e.target.value)},I=function(e){console.log(e.target.value),O(e.target.value)};return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement("div",null,"rajaus: ",o.a.createElement("input",{onChange:I})),o.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),o.a.createElement("form",{onSubmit:P},o.a.createElement("div",null,"name: ",o.a.createElement("input",{onChange:x}),o.a.createElement("br",null),"phone: ",o.a.createElement("input",{onChange:B})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))),o.a.createElement((function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error"},n)}),{message:N}),o.a.createElement((function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"onnistui"},n)}),{message:D}),o.a.createElement("h3",null,"Numbers"),function(){console.log("jaa",t);var e=t;if(e.length<10)return w.length>0?(e=t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}))).map((function(e){return o.a.createElement("div",{key:e.name},e.name," ",e.number)})):t.map((function(e){return o.a.createElement("div",{key:e.name},e.name," ",e.number," ",o.a.createElement("button",{onClick:function(){return function(e){window.confirm("Delete ".concat(e.name," ? "))&&d(e.id).then((function(e){console.log("success!"),m().then((function(e){return u(e)})),L("Poistaminen onnistui!!"),setTimeout((function(){L(null)}),5e3)})).catch((function(e){S("Poistaminen ei onnistunut!"),setTimeout((function(){S(null)}),5e3)})),console.log("iidee on:",e.id)}(e)}},"Delete"))}))}())};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.9d0d66e8.chunk.js.map